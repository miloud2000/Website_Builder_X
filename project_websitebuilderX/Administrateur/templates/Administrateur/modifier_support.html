{% extends "Administrateur/dashbordAdministrateur.html" %}
{% load static %}

{% block content %}
<div class="dashboard-content">
  <div class="main-card">

    <h2 class="mb-4">
      <i class="fas fa-{{ form.instance.pk|yesno:"edit,plus-circle" }} me-2 text-primary"></i>
      {% if form.instance.pk %}
        Modifier le support « {{ form.instance.name }} »
      {% else %}
        Ajouter un support
      {% endif %}
    </h2>

    {% for msg in messages %}
      <div class="alert alert-{{ msg.tags }}">{{ msg }}</div>
    {% endfor %}

    <form method="post" novalidate>
      {% csrf_token %}
      <div class="row g-3">
        <div class="col-md-6">
          <label for="{{ form.name.id_for_label }}" class="form-label">Nom</label>
          {{ form.name }}
          {% for err in form.name.errors %}
            <div class="text-danger">{{ err }}</div>
          {% endfor %}
        </div>
        <div class="col-md-6">
          <label for="{{ form.status.id_for_label }}" class="form-label">Statut</label>
          {{ form.status }}
          {% for err in form.status.errors %}
            <div class="text-danger">{{ err }}</div>
          {% endfor %}
        </div>
        <div class="col-12">
          <label for="{{ form.description.id_for_label }}" class="form-label">Description</label>
          {{ form.description }}
          {% for err in form.description.errors %}
            <div class="text-danger">{{ err }}</div>
          {% endfor %}
        </div>
        <div class="col-md-6">
          <label for="{{ form.prix.id_for_label }}" class="form-label">Prix (€)</label>
          {{ form.prix }}
          {% for err in form.prix.errors %}
            <div class="text-danger">{{ err }}</div>
          {% endfor %}
        </div>
      </div>

      <div class="mt-4">
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-save me-1"></i> Enregistrer
        </button>
        <a href="{% url 'liste_supports' %}" class="btn btn-secondary ms-2">
          <i class="fas fa-arrow-left me-1"></i> Annuler
        </a>
      </div>
    </form>

  </div>
</div>
{% endblock %}
